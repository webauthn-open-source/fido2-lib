<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Fido2AssertionResult.html">Fido2AssertionResult</a></li><li><a href="Fido2AttestationResult.html">Fido2AttestationResult</a></li><li><a href="Fido2Lib.html">Fido2Lib</a><ul class='methods'><li data-type='method'><a href="Fido2Lib.html#.addAttestationFormat">addAttestationFormat</a></li><li data-type='method'><a href="Fido2Lib.html#.addExtension">addExtension</a></li><li data-type='method'><a href="Fido2Lib.html#.addMdsCollection">addMdsCollection</a></li><li data-type='method'><a href="Fido2Lib.html#.clearMdsCollections">clearMdsCollections</a></li><li data-type='method'><a href="Fido2Lib.html#.createMdsCollection">createMdsCollection</a></li><li data-type='method'><a href="Fido2Lib.html#.deleteAllAttestationFormats">deleteAllAttestationFormats</a></li><li data-type='method'><a href="Fido2Lib.html#.deleteAllExtensions">deleteAllExtensions</a></li><li data-type='method'><a href="Fido2Lib.html#.findMdsEntry">findMdsEntry</a></li><li data-type='method'><a href="Fido2Lib.html#assertionOptions">assertionOptions</a></li><li data-type='method'><a href="Fido2Lib.html#assertionResult">assertionResult</a></li><li data-type='method'><a href="Fido2Lib.html#attestationOptions">attestationOptions</a></li><li data-type='method'><a href="Fido2Lib.html#attestationResult">attestationResult</a></li><li data-type='method'><a href="Fido2Lib.html#disableExtension">disableExtension</a></li><li data-type='method'><a href="Fido2Lib.html#enableExtension">enableExtension</a></li><li data-type='method'><a href="Fido2Lib.html#setExtensionOptions">setExtensionOptions</a></li></ul></li><li><a href="Fido2Result.html">Fido2Result</a></li><li><a href="MdsCollection.html">MdsCollection</a><ul class='methods'><li data-type='method'><a href="MdsCollection.html#addEntry">addEntry</a></li><li data-type='method'><a href="MdsCollection.html#addToc">addToc</a></li><li data-type='method'><a href="MdsCollection.html#findEntry">findEntry</a></li><li data-type='method'><a href="MdsCollection.html#getToc">getToc</a></li><li data-type='method'><a href="MdsCollection.html#validate">validate</a></li></ul></li><li><a href="MdsEntry.html">MdsEntry</a></li></ul><h3>Global</h3><ul><li><a href="global.html#parseAttestationObject">parseAttestationObject</a></li><li><a href="global.html#parseClientResponse">parseClientResponse</a></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><p><a href="https://travis-ci.org/apowers313/fido2-lib"><img src="https://travis-ci.org/apowers313/fido2-lib.svg?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/github/apowers313/fido2-lib?branch=master"><img src="https://coveralls.io/repos/github/apowers313/fido2-lib/badge.svg?branch=master" alt="Coverage Status"></a> <a href="https://snyk.io/test/github/webauthn-open-source/fido2-lib?targetFile=package.json"><img src="https://snyk.io/test/github/webauthn-open-source/fido2-lib/badge.svg?targetFile=package.json" alt="Known Vulnerabilities"></a></p>
<h2>Install</h2>
<pre class="prettyprint source lang-bash"><code>npm install fido2-lib
</code></pre>
<h2>Overview</h2>
<p>A library for performing FIDO 2.0 / WebAuthn server functionality</p>
<p>This library contains all the functionality necessary for implementing a full FIDO2 / WebAuthn server. It intentionally does not implement any kind of networking protocol (e.g. - REST endpoints) so that it can remain independent of any messaging protocols.</p>
<p>There are four primary functions:</p>
<ol>
<li><a href="https://webauthn-open-source.github.io/fido2-lib/Fido2Lib.html#attestationOptions">attestationOptions</a> - creates the challenge that will be sent to the client (e.g. - browser) for the credential create call. Note that the library does not keep track of sessions or context, so the caller is expected to associate the resulting challenge with a session so that it can be appropriately matched with a response.</li>
<li><a href="https://webauthn-open-source.github.io/fido2-lib/Fido2Lib.html#attestationResult">attestationResult</a> - parses and validates the response from the client</li>
<li><a href="https://webauthn-open-source.github.io/fido2-lib/Fido2Lib.html#assertionOptions">assertionOptions</a> - creates the challenge that will be sent to the client for credential assertion.</li>
<li><a href="https://webauthn-open-source.github.io/fido2-lib/Fido2Lib.html#assertionResult">assertionResult</a> - parses and validates the response from the client</li>
</ol>
<p>There is also an extension point for adding new attestation formats.</p>
<p>Full documentation can be found <a href="https://webauthn-open-source.github.io/fido2-lib/">here</a>.</p>
<p>For working examples see <a href="https://github.com/webauthn-open-source/fido2-server-demo">fido2-server-demo</a> and / or <a href="https://webauthn.org">webauthn.org</a></p>
<h2>Features</h2>
<ul>
<li>Works with Windows Hello</li>
<li>Attestation formats: packed, tpm, android-safetynet, fido-u2f, none</li>
<li>Convenient API for adding more attestation formats</li>
<li>Convenient API for adding extensions</li>
<li>Metadata service (MDS) support enables authenticator root of trust and authenticator metadata</li>
<li>Support for multiple simultaneous metadata services (e.g. FIDO MDS 1 &amp; 2)</li>
<li>Crypto families: ECDSA, RSA</li>
<li>x509 cert parsing, support for FIDO-related extensions, and NIST Public Key Interoperability Test Suite (PKITS) chain validation (from <a href="https://github.com/PeculiarVentures/PKI.js/">pki.js</a>)</li>
<li>Returns parsed and validated data, along with extra audit data for risk engines</li>
</ul>
<h2>Example</h2>
<p><strong>Instantiate Library (Simple):</strong></p>
<pre class="prettyprint source lang-js"><code>const { Fido2Lib } = require(&quot;fido2-lib&quot;);

// create a new instance of the library
var f2l = new Fido2Lib();
</code></pre>
<p><strong>Instantiate Library (Complex):</strong></p>
<pre class="prettyprint source lang-js"><code>// could also use one or more of the options below,
// which just makes the options calls easier later on:
var f2l = new Fido2Lib({
    timeout: 42,
    rpId: &quot;example.com&quot;,
    rpName: &quot;ACME&quot;,
    rpIcon: &quot;https://example.com/logo.png&quot;,
    challengeSize: 128,
    attestation: &quot;none&quot;,
    cryptoParams: [-7, -257],
    authenticatorAttachment: &quot;platform&quot;,
    authenticatorRequireResidentKey: false,
    authenticatorUserVerification: &quot;required&quot;
});
</code></pre>
<p><strong>Registration:</strong></p>
<pre class="prettyprint source lang-js"><code>var registrationOptions = await f2l.attestationOptions();

// make sure to add registrationOptions.user.id
// save the challenge in the session information...
// send registrationOptions to client and pass them in to `navigator.credentials.create()`...
// get response back from client (clientAttestationResponse)

var attestationExpectations = {
    challenge: &quot;33EHav-jZ1v9qwH783aU-j0ARx6r5o-YHh-wd7C6jPbd7Wh6ytbIZosIIACehwf9-s6hXhySHO-HHUjEwZS29w&quot;,
    origin: &quot;https://localhost:8443&quot;,
    factor: &quot;either&quot;
};
var regResult = await f2l.attestationResult(clientAttestationResponse, attestationExpectations); // will throw on error

// registration complete!
// save publicKey and counter from regResult to user's info for future authentication calls
</code></pre>
<p><strong>Authentication:</strong></p>
<pre class="prettyprint source lang-js"><code>var authnOptions = await f2l.assertionOptions();

// save the challenge in the session information...
// send authnOptions to client and pass them in to `navigator.credentials.get()`...
// get response back from client (clientAssertionResponse)

var assertionExpectations = {
    challenge: &quot;eaTyUNnyPDDdK8SNEgTEUvz1Q8dylkjjTimYd5X7QAo-F8_Z1lsJi3BilUpFZHkICNDWY8r9ivnTgW7-XZC3qQ&quot;,
    origin: &quot;https://localhost:8443&quot;,
    factor: &quot;either&quot;,
    publicKey: &quot;-----BEGIN PUBLIC KEY-----\n&quot; +
        &quot;MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAERez9aO2wBAWO54MuGbEqSdWahSnG\n&quot; +
        &quot;MAg35BCNkaE3j8Q+O/ZhhKqTeIKm7El70EG6ejt4sg1ZaoQ5ELg8k3ywTg==\n&quot; +
        &quot;-----END PUBLIC KEY-----\n&quot;,
    prevCounter: 362
};
var authnResult = await f2l.attestationResult(clientAssertionResponse, assertionExpectations); // will throw on error

// authentication complete!
</code></pre>
<p>For a real-life example, refer to <a href="https://github.com/webauthn-open-source/component-fido2">component-fido2</a>.</p>
<h2>Sponsor</h2>
<p>Note that while I used to be Technical Director for FIDO Alliance (and I am currently the Technical Advisor for FIDO Alliance), THIS PROJECT IS NOT ENDORSED OR SPONSORED BY FIDO ALLIANCE.</p>
<p>Work for this project is supported by my consulting company: <a href="https://webauthn.consulting/">WebAuthn Consulting</a>.</p></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Sun Nov 29 2020 10:32:24 GMT+0000 (UTC) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>